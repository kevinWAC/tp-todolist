<div *ngIf="tasks != undefined">
  <div class="container col-md-12 mt-5">
    <a [routerLink]="['']">Retour</a>
  </div>
  <div class="row text-center d-flex">
    <div class="col-md-6 ">
      <b>Todo</b>
      <ul class="mt-4">
        <ng-container *ngFor="let todo of tasks">
          <li *ngIf="!todo.done && setTaskId !== todo.id else setTaskTemplate ">
            {{todo.task}}
            <button (click)="status(todo)" mat-icon-button>
              <mat-icon>check</mat-icon>
            </button>
            <button (click)="setTask(todo.id)" mat-icon-button>
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="deleteTask(todo.id)">
              <mat-icon>clear</mat-icon>
            </button>
          </li>
          <ng-template #setTaskTemplate>
            <li *ngIf="setTaskId == todo.id">
              <input type="text" name="task" [(ngModel)]="todo.task"/>
              <button (click)="valideEdit(todo)" mat-icon-button><mat-icon>check</mat-icon></button>
            </li>
          </ng-template>
        </ng-container>
      </ul>
    </div>
    <div class="col-md-6">
      <b>Done</b>
      <ul class="mt-4">
        <ng-container *ngFor="let todo of tasks">
          <li *ngIf="todo.done">
            {{todo.task}}
            <button mat-icon-button (click)="status(todo)"><mat-icon>undo</mat-icon></button>
            <button mat-icon-button color="warn" (click)="deleteTask(todo.id)"><mat-icon>clear</mat-icon></button>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
</div>


<form #formAddTask="ngForm">
  <label>TÃ¢che</label>
  <input type="text" name="task" [(ngModel)]="newTask" required minlength="1"/>
  <button (click)="onSubmit(formAddTask)" [disabled]="formAddTask.invalid">Enregistrer</button>
  </form>

